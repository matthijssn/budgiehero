
# Render Blueprint â€” Production (P)
services:
  - type: web
    name: budgiehero-api-prod
    env: docker
    region: frankfurt
    autoDeploy: true
    plan: standard
    healthCheckPath: /health
    repo: https://github.com/YOUR_ORG/budgiehero
    rootDir: apps/api
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 3000
      - key: FRONTEND_ORIGIN
        sync: false
      - key: MONGODB_URI
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: GOOGLE_CLIENT_ID
        sync: false
      - key: GOOGLE_CLIENT_SECRET
        sync: false
      - key: OIDC_REDIRECT_URI
        sync: false
      - key: REDIS_URL
        fromService:
          type: redis
          name: budgiehero-redis-prod
          property: connectionString

  - type: worker
    name: budgiehero-worker-prod
    env: docker
    region: frankfurt
    autoDeploy: true
    plan: standard
    repo: https://github.com/YOUR_ORG/budgiehero
    rootDir: apps/worker
    envVars:
      - key: NODE_ENV
        value: production
      - key: MONGODB_URI
        sync: false
      - key: REDIS_URL
        fromService:
          type: redis
          name: budgiehero-redis-prod
          property: connectionString

databases:
  - name: budgiehero-redis-prod
    plan: standard
    region: frankfurt
    databaseName: redis
    ipAllowList: []
